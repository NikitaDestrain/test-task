CREATE TABLE IF NOT EXISTS specialization(id BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 0 INCREMENT BY 1) NOT NULL PRIMARY KEY, name VARCHAR(50) NOT NULL);
CREATE TABLE IF NOT EXISTS doctor(id BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 0 INCREMENT BY 1) NOT NULL PRIMARY KEY, name VARCHAR(30) NOT NULL, surname VARCHAR(30) NOT NULL, patronymic VARCHAR(30), specialization_id BIGINT NOT NULL, CONSTRAINT fk_specialization_id FOREIGN KEY (specialization_id) REFERENCES specialization (id) ON DELETE RESTRICT);
CREATE TABLE IF NOT EXISTS patient(id BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 0 INCREMENT BY 1) NOT NULL PRIMARY KEY, name VARCHAR(30) NOT NULL, surname VARCHAR(30) NOT NULL, patronymic VARCHAR(30), phone_number VARCHAR(15));
CREATE TABLE IF NOT EXISTS priority(id BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 0 INCREMENT BY 1) NOT NULL PRIMARY KEY, name VARCHAR(50) NOT NULL);
CREATE TABLE IF NOT EXISTS recipe(id BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 0 INCREMENT BY 1) NOT NULL PRIMARY KEY, description VARCHAR(200) NOT NULL, patient_id BIGINT NOT NULL, doctor_id BIGINT NOT NULL, creation_date DATE NOT NULL, expiration_date DATE NOT NULL, priority_id BIGINT NOT NULL, CONSTRAINT fk_priority_id FOREIGN KEY (priority_id) REFERENCES priority (id) ON DELETE RESTRICT, CONSTRAINT fk_patient_id FOREIGN KEY (patient_id) REFERENCES patient (id) ON DELETE RESTRICT, CONSTRAINT fk_doctor_id FOREIGN KEY (doctor_id) REFERENCES doctor (id) ON DELETE RESTRICT);
